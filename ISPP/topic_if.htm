<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<title>Inno Setup Preprocessor: #if, #elif, #else, #endif</title>
<!--[if IE 6]><style type="text/css">html{overflow-y:scroll}</style><![endif]-->
<link rel="stylesheet" type="text/css" href="../styles.css" />
<script type="text/javascript" src="../topic.js"></script>
</head>
<body>
<h1 class="topicheading">Inno Setup Preprocessor: #if, #elif, #else, #endif</h1>
<div class="topicbody">
  <h2 class="heading notopmargin">—интатсис</h2>
  <table>
    <tr>
      <td class="cellleft"><i>if-directive:</i></td>
      <td class="cellright"><b>if</b> &lt;expr&gt;</td>
    </tr>
  </table>
  <table>
    <tr>
      <td class="cellleft"><i>elif-directive:</i></td>
      <td class="cellright"><b>elif</b> &lt;expr&gt;</td>
    </tr>
  </table>
  <table>
    <tr>
      <td class="cellleft"><i>else-directive:</i></td>
      <td class="cellright"><b>else</b></td>
    </tr>
  </table>
  <table>
    <tr>
      <td class="cellleft"><i>endif-directive:</i></td>
      <td class="cellright"><b>endif</b></td>
    </tr>
  </table>
  <h2 class="heading">ќписание</h2>
  <p>”словные операторы <tt>if</tt>, <tt>elif</tt>, <tt>else</tt>, и <tt>endif</tt> управл€ют выполнением или исключением определенного куска скрипта.</p>
  <p>ISPP сначала оценивает выражени€ после каждой директивы <tt>if</tt> или <tt>elif</tt> пока не найдет одно ненулевое значение. «атем он выбирает часть сценари€ после этой директивы до <tt>elif</tt>, <tt>else</tt>, или <tt>endif</tt>. –анее участки, которые следуют <tt>if</tt> или <tt>elif</tt> и €вл€ютс€ нул€ми, или что следует следующий <tt>elif </tt> не выбраны и, следовательно, игнорируютс€ компил€тором Inno Setup.</p>
  <p>≈сли результат выражени€ не нулевое, то препроцессор, при наличии директивы <tt>else</tt>, выбирает часть скрипта после этой директивы, иначте ничего не выбираетс€.</p>
  <p>Ќаконец, после выбора лубой части скрипта, ISPP предварительно обрабатывает ее тоже и если она содержит другие директивы препроцессора, ISPP также обрабатывает эти директивы.</p>
  <p> ажда€ директива <tt>if</tt> должна иметь закрывающую директиву <tt>endif</tt>. ћежду директивами <tt>if</tt> и <tt>endif</tt> может быть любое количество директив <tt>elif</tt>, но допускаетс€ использовать не более одной директивы <tt>else</tt>. ƒиректива <tt>else</tt>, если она есть, должна быть последней директивой перед <tt>endif</tt>.</p>
  <p>ƒирективы <tt>if</tt>, <tt>elif</tt>, <tt>else</tt> и <tt>endif</tt> могут быть вложенными.  ажда€ вложенна€ директива <tt>else</tt>, <tt>elif</tt>, или <tt>endif</tt> принадлежит ближайшему предшествующему <tt>if</tt> директиве.</p>
  <p>¬строенные условные директивы не могут быть смешаны с простыми. ≈сли директива <tt>if</tt> €вл€етс€ простым (занимает всю строку), то св€занные с ним директивы (<tt>elif</tt>, <tt>else</tt>, или <tt>endif</tt>) также должны быть простыми, а не встроенными (могут быть встроены в другие строки).</p>
  <h2 class="heading">ѕримеры</h2>
  <p><tt>#define Lang<br/>
    <br/>
    [Tasks]<br/>
    #if &quot;English&quot; == Lang = <a href="topic_readini.htm">ReadIni</a>(<a href="topic_setupsetting.htm">SetupSetting</a>(&quot;MessagesFile&quot;), \<br/>
    &nbsp;&nbsp;&quot;LangOptions&quot;, &quot;LanguageName&quot;)<br/>
    &nbsp;&nbsp;ќписание: &quot;For all users&quot;; Name: all<br/>
    #elif &quot;German&quot; == Lang<br/>
    &nbsp;&nbsp;ќписание: &quot;Fur alle&quot;; Name: all<br/>
    #else<br/>
    #error Unsupported language<br/>
    #endif<br/>
  </tt></p>
</div>
</body>
</html>