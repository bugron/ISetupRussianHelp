<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ru">
  <head>
    <meta content="text/html; charset=windows-1251" http-equiv="content-type">
    <meta content="IE=8" http-equiv="X-UA-Compatible" />
	<meta content="Перевод на русский: Leserg (www.wylek.ru)" name="description">
    <title>Inno Setup Preprocessor: Example Script</title>
    <!--[if IE 6]><style type="text/css">html{overflow-y:scroll}</style><![endif]-->
    <link rel="stylesheet" href="../styles.css" type="text/css">
    <script src="../topic.js" type="text/javascript"></script>
  </head>
  <body>
    <h1 class="topicheading">Inno Setup Preprocessor: Пример сценария</h1>
    <div class="topicbody">
      <p>Предлагаем вам ознакомиться с примером сценария, в котором используются
        функции и директивы <span style="font-weight: bold;">ISPP</span>.</p>
      <p><tt><span style="font-style: italic; color: #006600;">; --
            ISPPExample1.iss --<br />
             ;<br />
             ; Этот сценарий демонстрирует различные базовые операции,<br />
             ; которые можно использовать при помощи Inno Setup Preprocessor
            (ISPP).<br />
             ; Чтобы включить директиву #define, удалите символ комментария (;),<br />
             ; или используйте ISCC с ключом /D в командной строке.</span><br />
          <br />
           <span style="font-weight: bold; color: #990000;">#pragma</span>
          option -v+<br />
           <span style="font-weight: bold; color: #990000;">#pragma</span>
          verboselevel 9<br />
          <br />
           <span style="font-style: italic; color: #006600;">;#define Debug</span><br />
          <br />
           <span style="font-style: italic; color: #006600;">;#define
            AppEnterprise</span><br />
          <br />
           <span style="font-weight: bold; color: #990000;">#ifdef</span>
          AppEnterprise<br />
             <span style="font-weight: bold; color: #990000;">#define</span>
          AppName <span style="font-style: italic; color: #333333;">"My Program
            Enterprise Edition"</span><br />
           <span style="font-weight: bold; color: #990000;">#else</span><br />
             <span style="font-weight: bold; color: #990000;">#define</span>
          AppName <span style="font-style: italic; color: #333333;">"My
            Program"</span><br />
           <span style="font-weight: bold; color: #990000;">#endif</span><br />
          <br />
           <span style="font-weight: bold; color: #990000;">#define</span>
          AppVersion GetFileVersion(AddBackslash(SourcePath) + <span style="font-style: italic; color: #333333;">"MyProg.exe"</span>)<br />
          <br />
           <span style="font-weight: bold; color: #000099;">[Setup]</span><br />
            <span style="color: blue;">AppName</span>={#AppName}<br />
            <span style="color: blue;">AppVersion</span>={#AppVersion}<br />
            <span style="color: blue;">DefaultDirName</span>={pf}\{#AppName}<br />
            <span style="color: blue;">DefaultGroupName</span>={#AppName}<br />
            <span style="color: blue;">UninstallDisplayIcon</span>={app}\MyProg.exe<br />
            <span style="color: blue;">LicenseFile</span>={#file
          AddBackslash(SourcePath) + <span style="font-style: italic; color: #333333;">"ISPPExample1License.txt"</span>}<br />
            <span style="color: blue;">VersionInfoVersion</span>={#AppVersion}<br />
            <span style="color: blue;">OutputDir</span>=userdocs:Inno Setup
          Examples Output<br />
          <br />
           <span style="font-weight: bold; color: #000099;">[Files]</span><br />
            <span style="font-weight: bold; color: #ff6600;">Source</span>: <span
            style="font-style: italic; color: #333333;">"MyProg.exe"</span>; <span
            style="font-weight: bold; color: #ff6600;">DestDir</span>: <span style="font-style: italic; color: #333333;">"{app}"</span><br />
            <span style="font-weight: bold; color: #990000;">#ifdef</span>
          AppEnterprise<br />
              <span style="font-weight: bold; color: #ff6600;">Source</span>: <span
            style="font-style: italic; color: #333333;">"MyProg.chm"</span>; <span
            style="font-weight: bold; color: #ff6600;">DestDir</span>: <span style="font-style: italic; color: #333333;">"{app}"</span><br />
            <span style="font-weight: bold; color: #990000;">#endif</span><br />
            <span style="font-weight: bold; color: #ff6600;">Source</span>: <span
            style="font-style: italic; color: #333333;">"Readme.txt"</span>; <span
            style="font-weight: bold; color: #ff6600;">DestDir</span>: <span style="font-style: italic; color: #333333;">"{app}"</span>;
          \<br />
             <span style="font-weight: bold; color: #ff6600;">Flags</span>:
          isreadme<br />
          <br />
           <span style="font-weight: bold; color: #000099;">[Icons]</span><br />
            <span style="font-weight: bold; color: #ff6600;">Name</span>: <span
            style="font-style: italic; color: #333333;">"{group}\{#AppName}"</span>;
          <span style="font-weight: bold; color: #ff6600;">Filename</span>: <span
            style="font-style: italic; color: #333333;">"{app}\MyProg.exe"</span><br />
          <br />
           <span style="font-weight: bold; color: #990000;">#ifdef</span> Debug<br />
             <span style="font-weight: bold; color: #990000;">#expr</span>
          SaveToFile(AddBackslash(SourcePath) + <span style="font-style: italic; color: #333333;">"Preprocessed.iss"</span>)<br />
           <span style="font-weight: bold; color: #990000;">#endif</span></tt></p>
      <p>Текст этого сценария также находится в файле под названием <i>ISPPExample1.iss</i>.
        Он размещается в папке "<span style="font-style: italic; font-weight: bold;">Examples</span>"
        корневого каталога <span style="font-style: italic;">Inno Setup</span>
        и в любое время вы можете выполнить его компиляцию.</p>
      <p>Смотрите также файл <a href="topic_builtinsiss.htm" class="new1">ISPPBuiltins.iss</a>,
        который находится в корневом каталоге <span style="font-style: italic;">Inno
          Setup</span>.</p>
    </div>
  </body>
</html>
