<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<title>Pascal Scripting: Код деинсталлятора</title>
<!--[if IE 6]><style type="text/css">html{overflow-y:scroll}</style><![endif]-->
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" src="topic.js"></script>
</head>
<body>
<h1 class="topicheading">Pascal Scripting: Код деинсталлятора</h1>
<div class="topicbody">
  <p>Pascal-скрипт также может содержать код, который будет выполнен при удалении программы. Для справки обратитесь к разделу <a href="topic_scriptevents.htm">Внешние функции</a>.</p>
  <p>При написании кода, который будет активизирован и выполнен во время удаления программы, следует обратить внимание на одну вещь. В случае, когда разные версии приложения установлены одна поверх другой, только один из Pascal-скриптов будет выполнен при удалении. Обычно это скрипт из самой новой установки. Если, однако, версии Inno Setup для новых версий приложения более старые, скрипт может быть выбран из той установки, версия Inno Setup для которой была самой новой. То же может произойти, если пользователь установил более старую версию вашего приложения поверх новой версии.</p>
  <p>При создании патча (обновления) для другой установки, который дополнит деинсталлятор, а не создаст новый (т.е. когда <tt>Uninstallable=yes</tt> и <tt>AppId</tt> для обоих установок имеет одинаковое значение), убедитесь, что патч содержит полную копию секции [Code] предыдущего инсталлятора. В противном случае при удалении программы скрипт не будет запущен.</p>
  <p>Однако, если для патча <tt>Uninstallable=no</tt>, то новый инсталлятор не станет изменять старый деинсталлятор; в этом случае не обязяательно, чтобы патч содержал копию секции [Code] предыдущего инсталлятора.</p>
</div>
</body>
</html>
