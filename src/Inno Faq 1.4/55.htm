<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Ярлык на раб. стол и прог. папку на одной стр.</title><link rel="stylesheet" type="text/css" href="css.css"><script type="text/javascript" src="includer.js"></script><script language='jscript' type='text/javascript' src='copycode.js'></script></head><body><div id="heading"><h1>» Inno Setup Faq. Ярлык на раб. стол и прог. папку на одной стр.</h1></div><br><script language="javascript" type="text/javascript">includeSyntax('delphi');</script><code id="delphi_Tc4NTM"> <input type="button" value="Копировать в буфер обмена" onClick="copyToClipboard( taCode1, theCode1 );"> <blockquote id="theCode1"><font>#define MyAppName &quot;My Program&quot;<br>#define MyAppVerName &quot;My Program 1.5&quot;<br>#define MyAppPublisher &quot;My Company, Inc.&quot;<br>#define MyAppURL &quot;http://www.example.com/&quot;<br>#define MyAppExeName &quot;MyProg.exe&quot;<br><br>[Setup]<br>AppId={295875A7-8789-4313-8438-D809C261C4A7}<br>AppName={#MyAppName}<br>AppVerName={#MyAppVerName}<br>AppPublisher={#MyAppPublisher}<br>DefaultDirName={pf}\{#MyAppName}<br>DefaultGroupName={#MyAppName}<br>OutputBaseFilename=setup<br>OutputDir=.<br>DisableProgramGroupPage=true<br><br>[Languages]<br>Name: &quot;russian&quot;; MessagesFile: &quot;compiler:Languages\Russian.isl&quot;<br><br>[Files]<br>Source: &quot;compiler:Examples\MyProg.exe&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion<br><br>[Icons]<br>Name: &quot;{group}\{#MyAppName}&quot;; Filename: &quot;{app}\{#MyAppExeName}&quot;; Check: MakeStartMenuIcon<br>Name: &quot;{commondesktop}\{#MyAppName}&quot;; Filename: &quot;{app}\{#MyAppExeName}&quot;; Check: MakeDesktopIcon<br><br>[Run]<br>Filename: &quot;{app}\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#MyAppName}&quot;; Flags: nowait postinstall skipifsilent<br><br>[Code]<br>var StartMenuIcon,DesktopIcon: TCheckBox;<br><br>function MakeDesktopIcon: Boolean; begin Result:=DesktopIcon.Checked; end;<br>function MakeStartMenuIcon: Boolean; begin Result:=StartMenuIcon.Checked;end;<br><br>procedure NoStartMenuIcon(Sender: TObject);<br>begin<br>if StartMenuIcon.Checked = false then<br>begin<br>wizardform.GroupEdit.enabled:= false;<br>wizardform.GroupBrowseButton.enabled:= false;<br>end<br>else<br>begin<br>wizardform.GroupEdit.enabled:= true;<br>wizardform.GroupBrowseButton.enabled:= true;<br>end;<br>end;<br><br>procedure InitializeWizard ();<br>begin<br>wizardform.SelectDirBitmapImage.free;<br><br>wizardform.GroupEdit.parent:= wizardform.SelectDirPage;<br>wizardform.GroupEdit.top:= wizardform.GroupEdit.top + ScaleY(60);<br><br>wizardform.GroupBrowseButton.parent:= wizardform.SelectDirPage;<br>wizardform.GroupBrowseButton.top:= wizardform.GroupBrowseButton.top + ScaleY(60);<br><br>wizardform.SelectDirLabel.left:= wizardform.GroupEdit.left;<br><br>wizardform.SelectStartMenuFolderLabel.parent:= wizardform.SelectDirPage;<br>wizardform.SelectStartMenuFolderLabel.left:= wizardform.GroupEdit.left;<br>wizardform.SelectStartMenuFolderLabel.top:= wizardform.GroupEdit.top - ScaleY(25);<br><br>DesktopIcon := TCheckBox.Create(WizardForm);<br>DesktopIcon.Parent := WizardForm.SelectDirPage;<br>DesktopIcon.Caption := 'Добавить ярлык на Рабочий стол';<br>DesktopIcon.SetBounds(ScaleX(0),WizardForm.DirEdit.Top+ScaleY(90),ScaleX(400),ScaleY(25));<br>DesktopIcon.TabOrder := 0;<br>DesktopIcon.Checked:= true;<br><br>StartMenuIcon := TCheckBox.Create(WizardForm);<br>StartMenuIcon.Parent := WizardForm.SelectDirPage;<br>StartMenuIcon.Caption := 'Создать папку в меню Пуск';<br>StartMenuIcon.SetBounds(ScaleX(220),WizardForm.DirEdit.Top+ScaleY(90),ScaleX(400),ScaleY(25));<br>StartMenuIcon.TabOrder := 0;<br>StartMenuIcon.Checked:= true;<br>StartMenuIcon.OnClick:= @NoStartMenuIcon;<br>end;<br></font></blockquote><textarea id="taCode1" style="display:none;" rows="1" cols="5"></textarea><textarea id='taCode' style='display:none;' rows='1' cols='20'></textarea></code><script language="javascript" type="text/javascript">highlightSyntax('delphi_Tc4NTM','delphi');</script><br><div id="heading"><h1><font size="1" face="Consolas">Copyright (c) <a href="http://www.krinkels.org/" target="_blank">Krinkels Inc</a></font></h1></div></body></html>