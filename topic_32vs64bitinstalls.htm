<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<title>Режим установки: 32-разрядный по сравнению с 64-разрядным</title>
<!--[if IE 6]><style type="text/css">html{overflow-y:scroll}</style><![endif]-->
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" src="topic.js"></script>
</head>
<body>
<h1 class="topicheading">Режим установки: 32-разрядный по сравнению с 64-разрядным</h1>
<div class="topicbody">
  <p>Инсталлятор может работать в одном из двух режимов: 32-разрядном или 64-разрядном.</p>
  <p>64-разрядный режим используется, если инсталлятор запущен в 64-разрядном Windows и если определена архитектура процессора значением директивы <a href="topic_setup_architecturesinstallin64bitmode.htm">ArchitecturesInstallIn64BitMode</a> секции [Setup], иначе используется 32-разрядный режим.</p>
  <p>Чем эти две режимы работы инсталлятора различаются? Прежде всего, различия заключаются в значениях констант, используемых по умолчанию.</p>
  <p>В 32-разрядном режиме:</p>
  <ul>
    <li>Путь System32, возвращаемый константой <tt>{sys}</tt>, по умолчанию указывает путь к 32-разрядной папке System.</li>
    <li>Константа <tt>{pf}</tt> эквивалентна константе <tt>{pf32}</tt>.</li>
    <li>Константа <tt>{cf}</tt> эквивалентна константе <tt>{cf32}</tt>.</li>
    <li>[Registry] по умолчанию записывает данные в 32-разрядном представлении реестра.</li>
    <li>Константа <tt>{reg:...}</tt>по умолчанию считывает данные из 32-разрядного представления реестра.</li>
    <li>Функции <tt>Reg*</tt> по умолчанию получают доступ к 32-разрядному представлению реестра.</li>
    <li>Флаг <tt>useapppaths</tt> секции [Icons] считывает ключи &quot;App Paths&quot; из 32-разрядного представления реестра.</li>
    <li>Флаги <tt>regserver</tt> и <tt>regtypelib</tt> секции [Files] по умолчанию загружают и регистрируют файлы внутри 32-разрядного процесса.</li>
    <li>Флаг <tt>sharedfile</tt> секции [Files] по умолчанию обновляет ключ &quot;SharedDLLs&quot; в 32-разрядном представлении реестра.</li>
    <li>Ключи деинсталляции создаются в 32-разрядном представлении реестра.</li>
  </ul>
  <p>В 64-разрядном режиме:</p>
  <ul>
    <li>Путь System32, возвращаемый константой <tt>{sys}</tt>, по умолчанию указывает путь к 64-разрядной папке System при использовании в секциях [Dirs], [Files], [InstallDelete], [Run], [UninstallDelete], и [UninstallRun]. Это потому, что инсталлятор/деинсталлятор временно отключает <a href="http://msdn.microsoft.com/en-us/library/aa384187.aspx" target="_blank" title="http://msdn.microsoft.com/en-us/library/aa384187.aspx">перенаправление файловой системы WOW64</a><img src="images/extlink.gif" alt=" [external link]" />, когда к файлам/папкам получают доступ из этих секций. В обратном случае, System32 и <tt>{sys}</tt> указывают путь к 32-разрядной папке System, как в 32-разрядном режиме.</li>
    <li>Константа <tt>{pf}</tt> эквивалентна константе <tt>{pf64}</tt>.</li>
    <li>Константа <tt>{cf}</tt> эквивалентна константе <tt>{cf64}</tt>.</li>
    <li>[Registry] по умолчанию записывает в 64-разрядном представлении реестра.</li>
    <li>Константа <tt>{reg:...}</tt>по умолчанию считывает данные из 64-разрядного представления реестра.</li>
    <li>Функции <tt>Reg*</tt> секции [Code] по умолчанию получают доступ к 64-разрядному представлению реестра.</li>
    <li>Флаг <tt>useapppaths</tt> секции [Icons] считывает ключи &quot;App Paths&quot; в 64-разрядном представлении реестра.</li>
    <li>Флаги <tt>regserver</tt> и <tt>regtypelib</tt> секции [Files] по умолчанию загружают и регистрируют файлы внутри 64-разрядного процесса.</li>
    <li>Флаг <tt>sharedfile</tt> секции [Files]&nbsp;по умолчанию обновляет ключ &quot;SharedDLLs&quot; в 64-разрядном представлении реестра.</li>
    <li>Ключи деинсталляции создаются в 64-разрядном представлении реестра.</li>
  </ul>
</div>
</body>
</html>
