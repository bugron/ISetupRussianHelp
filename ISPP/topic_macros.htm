<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<title>Inno Setup Preprocessor: Определяемые пользователем макросы</title>
<link rel="stylesheet" type="text/css" href="../styles.css" />
<script type="text/javascript" src="../topic.js"></script>
</head>
<body>
<h1 class="topicheading">Inno Setup Preprocessor: Определяемые пользователем макросы</h1>
<div class="topicbody">
  <p>В Ваших скриптах Вы можете определить так называемые &quot;макросы&quot;, которые могут считаться &quot;определяемыми пользователем функциями&quot;.</p>
  <p>Макрообъявление состоит из списка формальных параметров и выражения. Это выражение оценивается при вызове макроса (см. ниже). Результат макровызова - результат макро выражения. Макро выражение может содержать названия параметров, они обрабатываются как обычные переменные.</p>
  <p>Формальный синтаксис макрообъявления обеспечивают директива <tt><a href="topic_define.htm">define</a></tt> и <a href="topic_builtinsiss.htm">файл BUILTINS.ISS</a>, который содержит много примеров.</p>
  <p>Пожалуйста, имейте ввиду, что между макро-именем и открывающейся круглой скобкой не должно быть пробела.</p>
  <p>Фактические параметры, объявленные как ссылки, должны быть поддающимися изменению l-значениями (другими словами, другие определенные переменные или выражения, которые оценивают к l-значениям). Если макро-выражение изменяет ссылочный параметр, переменная, которую передают как этот параметр, тоже изменяется. Параметры, передаваемые по значению, могут также быть изменены макро выражением (используя операторы присвоения), но эта модификация не влияет на значение переменной, которую можно было передать как эти параметры.</p>
  <p>Хотя макрос может содержать только одно выражение, он может использоваться в качестве полнофункциональной определяемой пользователем функции, потому что ISPP поддерживает последовательный оператор оценки (запятая), операторы присвоения (простой и составной) и условный оператор (?:).</p>
  <p><b>См. также</b></p>
  <ul>
    <li><a href="topic_localarray.htm">Локальный массив макросов</a></li>
  </ul>
</div>
</body>
</html>